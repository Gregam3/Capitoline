<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="'Capitoline - ' + ${systemVersion}"></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <link rel="stylesheet" type="text/css"
          href="webjars/bootstrap/3.3.7/css/bootstrap.min.css"/>
    <script type="text/javascript" src="/angular/angular.js"></script>

    <link rel="stylesheet" type="text/css" href="../../static/css/sb-admin.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/css/sb-admin.min.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/css/font-awesome.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/css/bootstrap-grid.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/css/bootstrap-grid.min.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/css/bootstrap-reboot.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/css/bootstrap-reboot.min.css"/>
    <link rel="stylesheet" href="/static/css/LineChart.css"/>
    <link rel="stylesheet" href="/static/css/custom.css"/>
    <link rel="stylesheet" href="/static/css/toaster.css"/>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico"/>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap-tpls.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.js"></script>
    <script src="http://code.angularjs.org/1.3.3/angular-animate.min.js"></script>
    <script src="/angular/smart-table.js"></script>
    <script src="/angular/toaster.js"></script>
    <script src="/angular/LineChart.js"></script>
    <script src="/angular/pie-chart.min.js"></script>
    <script type="text/javascript" src="/static/js/overview.js"></script>
</head>
<body>
<div id="page-wrapper" ng-app="capitoline">
    <div ng-controller="settingsCtrl">
        <nav class="navbar navbar-default navbar-fixed-top"
             role="navigation" style="margin-bottom:0">
            <div class="row">
                <div class="col-xs-9">
                    <a class="navbar-brand"><span class="fa fa-bar-chart"></span> Capitoline - A Portfolio
                        Tracker</a>
                </div>
                <div class="col-xs-3 navbar-brand">
                    <div class="col-xs-5">
                        Currency
                    </div>
                    <div class="col-xs-7">
                        <select ng-model="userSettings.settings.currency"
                                ng-options="currency.acronym for currency in currencies"
                                ng-change="save()"></select>
                    </div>
                </div>
            </div>
        </nav>
    </div>


    <div style="padding-top: 60px;">
        <div ng-controller="homeCtrl">
            <div class="row" ng-show="totalValue > 0">
                <toaster-container toaster-options="{'time-out': 4000}"></toaster-container>
                <div class="col-lg-12">
                    <div th:replace="/home/panel/overview :: overview"></div>
                </div>
            </div>
        </div>

        <div class="row" ng-controller="performanceCtrl">
            <div class="col-lg-9" ng-if="totalValue > 0">
                <div th:replace="/home/panel/total-value-line-chart :: total-value-line-chart"
                     ng-show="showHistory"></div>
            </div>

            <!--emulating uibtabs as n3-pie-chart has documented sizing issue with pie charts that are initially hidden, -->
            <!--ng-if reloads chart completely fixing sizing issue as such it has been used below, uibtabs emulated by this.-->
            <div class="col-lg-3">
                <uib-tabset active="active">
                    <uib-tab index="0" heading="Diversification">
                    </uib-tab>
                    <uib-tab index="1" heading="Crypto" ng-click="calculateCryptoPerformance()">
                    </uib-tab>
                    <uib-tab index="2" heading="Stock" ng-disabled="1 > 0"
                             ng-click="retrieveAndCalculateStockPerformance()">
                    </uib-tab>
                    <uib-tab index="3" heading="Fiat" ng-click="calculateFiatPerformance()">
                    </uib-tab>
                </uib-tabset>

                <div class="panel panel-default" style="height: 368px;">
                    <div ng-if="active === 0">
                        <div th:replace="/home/tabs/diversification-pie-chart :: diversification-pie-chart"></div>
                    </div>
                    <div ng-if="active === 1">
                        <div th:replace="/home/tabs/crypto-performance :: crypto-performance"></div>
                    </div>
                    <div ng-if="active === 2">
                        <div th:replace="/home/tabs/stock-performance :: stock-performance"></div>
                    </div>
                    <div ng-if="active === 3">
                        <div th:replace="/home/tabs/fiat-performance :: fiat-performance"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div th:replace="/home/panel/holding-management :: holding-management"></div>

</div>
</body>
</html>